model EventType {
  id       Int     @id @default(autoincrement())
  name     String  @unique
  order    Int
  cohortId Int
  Event    Event[]
  Cohort   Cohort  @relation(fields: [cohortId], references: [id])

  @@index([cohortId])
}

model EventInstance {
  id                Int                 @id @default(autoincrement())
  eventId           Int
  responsibleId     Int // nullable si no hay responsable asignado
  createdAt         DateTime            @default(now())
  updatedAt         DateTime            @updatedAt
  createdBy         Int
  updatedBy         Int?
  Event             Event               @relation(fields: [eventId], references: [id])
  Person            Person              @relation(fields: [responsibleId], references: [id])
  AttendanceSession AttendanceSession[]
  deletedAt         DateTime?
  deletedBy         Int?

  @@unique([eventId, responsibleId])
  @@index([eventId])
}

model Event {
  id             Int             @id @default(autoincrement())
  name           String
  eventTypeId    Int
  EventType      EventType       @relation(fields: [eventTypeId], references: [id])
  eventInstances EventInstance[]

  @@index([eventTypeId])
}
